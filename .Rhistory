shiny::runApp()
require("leaflet")
require("dplyr")
require("plotly")
require("ggplot2")
require("dplyr")
require("reshape2")
require("tidyverse")
#Genreal data
dados <- read_csv("2018_09_04_dados.csv")
#Convert data to data
dados <- dados %>%
mutate(Data = as.Date(Data, format = "%d/%m/%Y"))
#iNext data
sample_coverage <- read_csv("sample_coverage.csv")
sample_coverage <- sample_coverage %>%
mutate(lty = factor(method, c("interpolated", "observed", "extrapolated"),
c("interpolation", "interpolation", "extrapolation")))
hill_numbers <- read.csv("hill_numbers.csv")
hill_numbers <- hill_numbers %>%
mutate(lty = factor(method, c("interpolated", "observed", "extrapolated"),
c("interpolation", "interpolation", "extrapolation")))
hill_ci <- read_csv("hill_ci.csv")
#Permanova data
perm_all <- read_csv("Perm_res_all.csv")
perm_adu <- read_csv("Perm_res_adult.csv")
perm_nym <- read_csv("Perm_res_nymph.csv")
#Couting the n of individulas in each point
map_plot <- dados %>% select("Ambiente", "Especie", "Estagio", "Lat", "Long") %>%
group_by_all() %>%
summarise(N = n())
View(map_plot)
map_plot <- map_plot %>% spread(Especie, N, fill = 0)
View(map_plot)
#Cretae a new data frame
dados_riq <- data.frame(lapply(map_plot[5:13], function(x) ifelse(x >= 1,1,0)))
dados_riq <- dados_riq %>%
mutate(riq = rowSums(dados_riq))
View(dados_riq)
dados_amb <- map_plot %>% select("Ambiente", "Lat", "Long", "Estagio")
dados_amb <- data.frame(dados_amb)
map_plot <- cbind(dados_amb, dados_riq)
View(map_plot)
map_plot <- cbind(dados_amb, dados_riq)
map_plot <- map_plot %>%
group_by(Lat, Long, Ambiente) %>%
summarise(riq = sum(riq))
View(map_plot)
#Couting the n of individulas in each point
map_plot <- dados %>% select("Ambiente", "Especie", "Lat", "Long") %>%
group_by_all() %>%
summarise(N = n())
map_plot <- map_plot %>% spread(Especie, N, fill = 0)
#Cretae a new data frame
dados_riq <- data.frame(lapply(map_plot[5:13], function(x) ifelse(x >= 1,1,0)))
#Cretae a new data frame
dados_riq <- data.frame(lapply(map_plot[5:12], function(x) ifelse(x >= 1,1,0)))
dados_riq <- dados_riq %>%
mutate(riq = rowSums(dados_riq))
dados_amb <- map_plot %>% select("Ambiente", "Lat", "Long", "Estagio")
dados_amb <- data.frame(dados_amb)
dados_amb <- map_plot %>% select("Ambiente", "Lat", "Long")
dados_amb <- data.frame(dados_amb)
map_plot <- cbind(dados_amb, dados_riq)
map_plot <- map_plot %>%
group_by(Lat, Long, Ambiente) %>%
summarise(riq = sum(riq))
View(map_plot)
runApp()
rsconnect::deployApp()
